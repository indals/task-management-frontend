<!-- app.component.html - CLEANED VERSION -->

<!-- Main App Layout -->
<div class="app-container" 
     [class.with-sidebar]="showSidebar"
     [class.sidebar-expanded]="showSidebar && !sidebarCollapsed"
     [class.sidebar-collapsed]="showSidebar && sidebarCollapsed">
  
  <!-- Sidebar -->
  <app-sidebar *ngIf="showSidebar" (sidebarToggle)="onSidebarToggle($event)"></app-sidebar>
  
  <!-- Main Content Area -->
  <div class="main-content" [class.with-sidebar]="showSidebar">
    
    <!-- Header (only show when authenticated and not on auth pages) -->
    <app-header *ngIf="showSidebar" [sidebarCollapsed]="sidebarCollapsed"></app-header>
    
    <!-- Router Outlet -->
    <div class="content-wrapper" [class.with-header]="showSidebar">
      <router-outlet></router-outlet>
    </div>
    
  </div>
  
</div>

<!-- Global Notifications (Snackbar will appear here) -->
<!-- PWA Update Available Notification -->
<div class="pwa-update" *ngIf="false">
  <mat-card>
    <mat-card-content>
      <div class="update-content">
        <mat-icon>system_update</mat-icon>
        <span>A new version is available!</span>
        <button mat-button color="primary">Update</button>
      </div>
    </mat-card-content>
  </mat-card>
</div>