<header class="app-header" [class.with-sidebar]="!isMobile" [class.sidebar-collapsed]="sidebarCollapsed">
    <div class="logo-container">
      <a routerLink="/dashboard">
        <i class="fa fa-tasks logo-icon"></i>
        <h1 class="app-title">Task Manager</h1>
      </a>
    </div>
  
    <div class="header-controls" *ngIf="currentUser">
      <button class="notification-btn" (click)="navigateToNotifications()" [title]="notificationCount + ' unread notifications'">
        <i class="fa fa-bell"></i>
        <span class="notification-badge" *ngIf="notificationCount > 0">{{ notificationCount > 99 ? '99+' : notificationCount }}</span>
      </button>
  
      <div class="user-profile" (clickOutside)="isDropdownOpen = false">
        <div class="user-avatar" (click)="toggleDropdown()" [title]="currentUser.name">
          <span class="avatar-text">{{ currentUser.name.charAt(0) || 'U' }}</span>
        </div>
  
        <div class="dropdown-menu" *ngIf="isDropdownOpen">
          <div class="user-info">
            <div class="user-name">{{ currentUser.name }}</div>
            <div class="user-email">{{ currentUser.email }}</div>
          </div>
          <ul class="dropdown-list">
            <li (click)="navigateToProfile()">
              <i class="fa fa-user"></i> Profile
            </li>
            <li (click)="navigateToSettings()">
              <i class="fa fa-cog"></i> Settings
            </li>
            <li (click)="logout()">
              <i class="fa fa-sign-out"></i> Logout
            </li>
          </ul>
        </div>
      </div>
    </div>
  </header>